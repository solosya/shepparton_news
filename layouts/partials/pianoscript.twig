<script>
    tp = window.tp || [];
    tp.push(['setUsePianoIdUserProvider', true]);
    tp.push(["init", function() {
                    // START MY ACCOUNT PAGE ONLY
                    {% if pageLayout == 'layout-account' %}
                        tp.myaccount.show({
                                        displayMode: "inline",
                                        containerSelector: "#my-account"
                        });
                    {% endif %}
                    // END MY ACCOUNT PAGE ONLY
                    tp.pianoId.init({
                        loggedIn: function(data) {
                            var inLogs = document.getElementsByClassName('j-piano-loggedin');
                            var outLogs = document.getElementsByClassName('j-piano-loggedout');
                            for (i=0;i<inLogs.length;i++){
                                inLogs[i].style.display = "block";
                            }
                            for (i=0;i<outLogs.length;i++){
                                            outLogs[i].style.display = "none";
                            }                            
                        },
                        loggedOut: function() {
                            var inLogs = document.getElementsByClassName('j-piano-loggedin');
                            var outLogs = document.getElementsByClassName('j-piano-loggedout');
                            for (i=0;i<inLogs.length;i++){
                                            inLogs[i].style.display = "none";
                            }
                            for (i=0;i<outLogs.length;i++){
                                            outLogs[i].style.display = "block";
                            }
                            if (!document.getElementsByClassName('j-piano__dropdown')[0].classList.contains('c-piano__dropdown--hidden')){
                                            document.getElementsByClassName('j-piano__dropdown')[0].className += " c-piano__dropdown--hidden";
                                            document.getElementsByClassName('j-piano__account')[0].classList.remove("c-piano__account--open");
                            }
                            if (!document.getElementsByClassName('j-piano__dropdown--fold')[0].classList.contains('c-piano__dropdown--hidden')){
                                            document.getElementsByClassName('j-piano__dropdown--fold')[0].className += " c-piano__dropdown--hidden";
                                            document.getElementsByClassName('j-piano__account--fold')[0].classList.remove("c-piano__account--open");
                            }
                        }
                    });
    }]);
    tp.push(["addHandler", "loginSuccess", function(event){
        if(event.registration != true){
                        location.reload();
        } else {
    (function(src){
        var a=document.createElement("script");
        a.type="text/javascript";
        a.async=true;
        a.src=src;
        var b=document.getElementsByTagName("script")[0];
        b.parentNode.insertBefore(a,b);
    })("https://sandbox.tinypass.com/xbuilder/experience/load?aid=ofa0aaBmht");
</script>
